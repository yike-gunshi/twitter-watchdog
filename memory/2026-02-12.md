# 2026-02-12 - Twitter Watchdog 更新与配置

## 任务：拉取 Twitter Watchdog 最新仓库并配置 API

### 完成工作

1. **代码更新**
   - 从 `yike-gunshi/twitter-watchdog` 拉取最新代码
   - 使用 `git reset --hard origin/main` 重置到最新版本
   - 清理了本地测试文件和未跟踪文件

2. **配置文件更新**
   - 更新 `config/config.yaml`，移除了过时的代理配置节
   - 保留了所有 API 凭证（Twitter API、twitterapi.io、Claude API）

3. **代理配置修复**
   - 更新 `/root/.config/clash/config.yaml`
   - 添加了 Twitter/X 域名代理规则：
     - `DOMAIN-SUFFIX,twitter.com`
     - `DOMAIN-SUFFIX,x.com`
     - `DOMAIN,api.twitter.com`
     - `DOMAIN-SUFFIX,twitterapi.io`
   - 重启 Clash 服务使配置生效

4. **脚本测试运行**
   - 成功运行 `python3 scripts/twitter_watchdog.py --hours-ago 4`
   - 抓取了 103 个关注用户
   - 总计抓取 37 条推文
   - Claude 识别出 12 条 AI 相关推文
   - 生成了 JSON、Markdown 和汇总报告

### 重要发现

**问题**：原 Clash 配置只代理 Telegram 流量，不代理 Twitter API，导致无法连接。

**解决**：添加 Twitter/X 相关域名到代理规则，所有相关流量通过 Telegram 代理组（使用 HK/JP/SG 节点的 fallback 策略）。

### 运行命令

```bash
cd /root/.openclaw/workspace/twitter-watchdog
export HTTP_PROXY=http://127.0.0.1:7890
export HTTPS_PROXY=http://127.0.0.1:7890
source venv/bin/activate
python3 scripts/twitter_watchdog.py --hours-ago 4
```

### 输出文件位置

- JSON: `output/ai_tweets_YYYYMMDD_HHMMSS.json`
- Markdown: `output/ai_tweets_YYYYMMDD_HHMMSS.md`
- 汇总: `output/latest_summary.md`

### 最新抓取结果 (2026-02-12 10:56)

- 监控账户：@rollingrock_1
- 时间窗口：06:56 ~ 10:56
- 关注用户：103
- AI 相关推文：12 条

**重要推文：**
- GLM-5 支持超长任务执行（700+ 工具调用，800+ 上下文切换）
- Gemini Deep Think 加速科学研究
- Cursor 提升个人计划使用额度
- xAI 两位联合创始人离职
